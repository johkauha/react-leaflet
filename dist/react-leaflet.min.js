!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react-dom"),require("react"),require("leaflet")):"function"==typeof define&&define.amd?define(["exports","react-dom","react","leaflet"],t):t(e.ReactLeaflet={},e.ReactDOM,e.React,e.L)}(this,function(e,t,o,i){"use strict";var l="default"in o?o.default:o,n="default"in i?i.default:i;function r(e,t){return e(t={exports:{}},t.exports),t.exports}var a,u=r(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t}),s=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,l=n?Symbol.for("react.strict_mode"):60108,i=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.memo"):60115,d=n?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case i:case l:return e;default:switch(e=e&&e.$$typeof){case s:case p:case u:return e;default:return t}}case o:return t}}}function m(e){return v(e)===f}t.typeOf=v,t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=s,t.ContextProvider=u,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Profiler=i,t.Portal=o,t.StrictMode=l,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===i||e===l||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===y||e.$$typeof===u||e.$$typeof===s||e.$$typeof===p)},t.isAsyncMode=function(e){return m(e)||v(e)===c},t.isConcurrentMode=m,t.isContextConsumer=function(e){return v(e)===s},t.isContextProvider=function(e){return v(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===a},t.isProfiler=function(e){return v(e)===i},t.isPortal=function(e){return v(e)===o},t.isStrictMode=function(e){return v(e)===l}});(a=s)&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")&&a.default;s.typeOf,s.AsyncMode,s.ConcurrentMode,s.ContextConsumer,s.ContextProvider,s.Element,s.ForwardRef,s.Fragment,s.Profiler,s.Portal,s.StrictMode,s.isValidElementType,s.isAsyncMode,s.isConcurrentMode,s.isContextConsumer,s.isContextProvider,s.isElement,s.isForwardRef,s.isFragment,s.isProfiler,s.isPortal,s.isStrictMode;var c=r(function(e){e.exports=s}),f={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},p={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},h={};h[c.ForwardRef]={$$typeof:!0,render:!0};var y=Object.defineProperty,d=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,g=Object.prototype;var E=function e(t,n,r){if("string"==typeof n)return t;if(g){var o=b(n);o&&o!==g&&e(t,o,r)}var a=d(n);v&&(a=a.concat(v(n)));for(var l=h[t.$$typeof]||f,i=h[n.$$typeof]||f,u=0;u<a.length;++u){var s=a[u];if(!(p[s]||r&&r[s]||i&&i[s]||l&&l[s])){var c=m(n,s);try{y(t,s,c)}catch(e){}}}return t},_=o.createContext({}),j=_.Consumer,O=_.Provider,w=j,L=O,k=function(r){var e=function(t,n){return l.createElement(j,null,function(e){return l.createElement(r,u({},t,{leaflet:e,ref:n}))})},t=r.displayName||r.name;e.displayName="Leaflet(".concat(t,")");var n=o.forwardRef(e);return E(n,r),n};var C=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e},A=r(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(e){return n(e)}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(e)}t.exports=r});var S=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var M=function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?S(e):t},z=r(function(t){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n}),I=r(function(n){function r(e,t){return n.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.exports=r});var U=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)};var T=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},D=function(e){function n(e){var t;return C(this,n),t=M(this,z(n).call(this,e)),T(S(S(t)),"leafletElement",void 0),t.leafletElement=t.createLeafletElement(t.props),t}return U(n,e),x(n,[{key:"createLeafletElement",value:function(e){throw new Error("createLeafletElement() must be implemented")}},{key:"updateLeafletElement",value:function(e,t){t.position!==e.position&&this.leafletElement.setPosition(t.position)}},{key:"componentDidMount",value:function(){this.leafletElement.addTo(this.props.leaflet.map)}},{key:"componentDidUpdate",value:function(e){this.updateLeafletElement(e,this.props)}},{key:"componentWillUnmount",value:function(){this.leafletElement.remove()}},{key:"render",value:function(){return null}}]),n}(o.Component),V=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,D),x(t,[{key:"createLeafletElement",value:function(e){return new i.Control.Attribution(e)}}]),t}());var B=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o};var R=function(e,t){if(null==e)return{};var n,r,o=B(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o};var $=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){T(t,e,n[e])})}return t};var F=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e},N=r(function(r){function o(e,t,n){return"undefined"!=typeof Reflect&&Reflect.get?r.exports=o=Reflect.get:r.exports=o=function(e,t,n){var r=F(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},o(e,t,n||e)}r.exports=o}),Z=Array.isArray,W="object"==typeof global&&global&&global.Object===Object&&global,G="object"==typeof self&&self&&self.Object===Object&&self,q=W||G||Function("return this")(),J=q.Symbol,Y=Object.prototype,H=Y.hasOwnProperty,K=Y.toString,Q=J?J.toStringTag:void 0;var X=Object.prototype.toString;var ee="[object Null]",te="[object Undefined]",ne=J?J.toStringTag:void 0;function re(e){return null==e?void 0===e?te:ee:ne&&ne in Object(e)?function(e){var t=H.call(e,Q),n=e[Q];try{e[Q]=void 0}catch(e){}var r=K.call(e);return t?e[Q]=n:delete e[Q],r}(e):(t=e,X.call(t));var t}function oe(e){return null!=e&&"object"==typeof e}var ae="[object Symbol]";function le(e){return"symbol"==typeof e||oe(e)&&re(e)==ae}var ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ue=/^\w*$/;function se(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var ce="[object AsyncFunction]",fe="[object Function]",pe="[object GeneratorFunction]",he="[object Proxy]";function ye(e){if(!se(e))return!1;var t=re(e);return t==fe||t==pe||t==ce||t==he}var de,ve=q["__core-js_shared__"],me=(de=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||""))?"Symbol(src)_1."+de:"";var be=Function.prototype.toString;function ge(e){if(null!=e){try{return be.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Ee=/^\[object .+?Constructor\]$/,_e=Function.prototype,je=Object.prototype,Oe=_e.toString,we=je.hasOwnProperty,Le=RegExp("^"+Oe.call(we).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ke(e){return!(!se(e)||(t=e,me&&me in t))&&(ye(e)?Le:Ee).test(ge(e));var t}function Ce(e,t){var n,r,o=(r=t,null==(n=e)?void 0:n[r]);return ke(o)?o:void 0}var Pe=Ce(Object,"create");var xe=Object.prototype.hasOwnProperty;var Ae=Object.prototype.hasOwnProperty;function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Me(e,t){return e===t||e!=e&&t!=t}function ze(e,t){for(var n=e.length;n--;)if(Me(e[n][0],t))return n;return-1}Se.prototype.clear=function(){this.__data__=Pe?Pe(null):{},this.size=0},Se.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Se.prototype.get=function(e){var t=this.__data__;if(Pe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return xe.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return Pe?void 0!==t[e]:Ae.call(t,e)},Se.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pe&&void 0===t?"__lodash_hash_undefined__":t,this};var Ie=Array.prototype.splice;function Ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ue.prototype.clear=function(){this.__data__=[],this.size=0},Ue.prototype.delete=function(e){var t=this.__data__,n=ze(t,e);return!(n<0||(n==t.length-1?t.pop():Ie.call(t,n,1),--this.size,0))},Ue.prototype.get=function(e){var t=this.__data__,n=ze(t,e);return n<0?void 0:t[n][1]},Ue.prototype.has=function(e){return-1<ze(this.__data__,e)},Ue.prototype.set=function(e,t){var n=this.__data__,r=ze(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Te=Ce(q,"Map");function De(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ve.prototype.clear=function(){this.size=0,this.__data__={hash:new Se,map:new(Te||Ue),string:new Se}},Ve.prototype.delete=function(e){var t=De(this,e).delete(e);return this.size-=t?1:0,t},Ve.prototype.get=function(e){return De(this,e).get(e)},Ve.prototype.has=function(e){return De(this,e).has(e)},Ve.prototype.set=function(e,t){var n=De(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var Be="Expected a function";function Re(o,a){if("function"!=typeof o||null!=a&&"function"!=typeof a)throw new TypeError(Be);var l=function(){var e=arguments,t=a?a.apply(this,e):e[0],n=l.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return l.cache=n.set(t,r)||n,r};return l.cache=new(Re.Cache||Ve),l}Re.Cache=Ve;var $e,Fe,Ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ze=/\\(\\)?/g,We=(Fe=($e=Re(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(Ne,function(e,t,n,r){o.push(n?r.replace(Ze,"$1"):t||e)}),o},function(e){return 500===Fe.size&&Fe.clear(),e})).cache,$e);function Ge(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var qe=1/0,Je=J?J.prototype:void 0,Ye=Je?Je.toString:void 0;function He(e){if("string"==typeof e)return e;if(Z(e))return Ge(e,He)+"";if(le(e))return Ye?Ye.call(e):"";var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function Ke(e){return null==e?"":He(e)}function Qe(e,t){return Z(e)?e:function(e,t){if(Z(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!le(e))||ue.test(e)||!ie.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:We(Ke(e))}var Xe=1/0;function et(e){if("string"==typeof e||le(e))return e;var t=e+"";return"0"==t&&1/e==-Xe?"-0":t}function tt(e,t){for(var n=0,r=(t=Qe(t,e)).length;null!=e&&n<r;)e=e[et(t[n++])];return n&&n==r?e:void 0}var nt=function(){try{var e=Ce(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();function rt(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ot=Object.prototype.hasOwnProperty;function at(e,t,n){var r=e[t];ot.call(e,t)&&Me(r,n)&&(void 0!==n||t in e)||rt(e,t,n)}var lt=9007199254740991,it=/^(?:0|[1-9]\d*)$/;function ut(e,t){var n=typeof e;return!!(t=null==t?lt:t)&&("number"==n||"symbol"!=n&&it.test(e))&&-1<e&&e%1==0&&e<t}function st(e,t,n,r){if(!se(e))return e;for(var o=-1,a=(t=Qe(t,e)).length,l=a-1,i=e;null!=i&&++o<a;){var u=et(t[o]),s=n;if(o!=l){var c=i[u];void 0===(s=r?r(c,u,i):void 0)&&(s=se(c)?c:ut(t[o+1])?[]:{})}at(i,u,s),i=i[u]}return e}function ct(e,t){return null!=e&&t in Object(e)}function ft(e){return oe(e)&&"[object Arguments]"==re(e)}var pt=Object.prototype,ht=pt.hasOwnProperty,yt=pt.propertyIsEnumerable,dt=ft(function(){return arguments}())?ft:function(e){return oe(e)&&ht.call(e,"callee")&&!yt.call(e,"callee")},vt=9007199254740991;function mt(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=vt}function bt(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=Qe(t,e)).length,a=!1;++r<o;){var l=et(t[r]);if(!(a=null!=e&&n(e,l)))break;e=e[l]}return a||++r!=o?a:!!(o=null==e?0:e.length)&&mt(o)&&ut(l,o)&&(Z(e)||dt(e))}(e,t,ct)}function gt(n,e){return function(e,t,n){for(var r=-1,o=t.length,a={};++r<o;){var l=t[r],i=tt(e,l);n(i,l)&&st(a,Qe(l,e),i)}return a}(n,e,function(e,t){return bt(n,t)})}function Et(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var _t=J?J.isConcatSpreadable:void 0;function jt(e){return Z(e)||dt(e)||!!(_t&&e&&e[_t])}function Ot(e){return(null==e?0:e.length)?function e(t,n,r,o,a){var l=-1,i=t.length;for(r||(r=jt),a||(a=[]);++l<i;){var u=t[l];0<n&&r(u)?1<n?e(u,n-1,r,o,a):Et(a,u):o||(a[a.length]=u)}return a}(e,1):[]}var wt=Math.max;function Lt(e){return e}var kt=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Lt,Ct=Date.now;var Pt,xt,At,St=(Pt=kt,At=xt=0,function(){var e=Ct(),t=16-(e-At);if(At=e,0<t){if(800<=++xt)return arguments[0]}else xt=0;return Pt.apply(void 0,arguments)});function Mt(e){return St((a=e,i=Ot,l=wt((l=void 0)===l?a.length-1:l,0),function(){for(var e=arguments,t=-1,n=wt(e.length-l,0),r=Array(n);++t<n;)r[t]=e[l+t];t=-1;for(var o=Array(l+1);++t<l;)o[t]=e[t];return o[l]=i(r),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(a,this,o)}),e+"");var a,l,i}var zt=Mt(function(e,t){return null==e?{}:gt(e,t)});function It(e){var t=this.__data__=new Ue(e);this.size=t.size}It.prototype.clear=function(){this.__data__=new Ue,this.size=0},It.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},It.prototype.get=function(e){return this.__data__.get(e)},It.prototype.has=function(e){return this.__data__.has(e)},It.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ue){var r=n.__data__;if(!Te||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ve(r)}return n.set(e,t),this.size=n.size,this};function Ut(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ve;++t<n;)this.add(e[t])}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}Ut.prototype.add=Ut.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ut.prototype.has=function(e){return this.__data__.has(e)};var Dt=1,Vt=2;function Bt(e,t,r,o,a,l){var n=r&Dt,i=e.length,u=t.length;if(i!=u&&!(n&&i<u))return!1;var s=l.get(e);if(s&&l.get(t))return s==t;var c=-1,f=!0,p=r&Vt?new Ut:void 0;for(l.set(e,t),l.set(t,e);++c<i;){var h=e[c],y=t[c];if(o)var d=n?o(y,h,c,t,e,l):o(h,y,c,e,t,l);if(void 0!==d){if(d)continue;f=!1;break}if(p){if(!Tt(t,function(e,t){if(n=t,!p.has(n)&&(h===e||a(h,e,r,o,l)))return p.push(t);var n})){f=!1;break}}else if(h!==y&&!a(h,y,r,o,l)){f=!1;break}}return l.delete(e),l.delete(t),f}var Rt=q.Uint8Array;function $t(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function Ft(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var Nt=1,Zt=2,Wt="[object Boolean]",Gt="[object Date]",qt="[object Error]",Jt="[object Map]",Yt="[object Number]",Ht="[object RegExp]",Kt="[object Set]",Qt="[object String]",Xt="[object Symbol]",en="[object ArrayBuffer]",tn="[object DataView]",nn=J?J.prototype:void 0,rn=nn?nn.valueOf:void 0;function on(e,t,n){var r=t(e);return Z(e)?r:Et(r,n(e))}function an(){return[]}var ln=Object.prototype.propertyIsEnumerable,un=Object.getOwnPropertySymbols,sn=un?function(t){return null==t?[]:(t=Object(t),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var l=e[n];t(l,n,e)&&(a[o++]=l)}return a}(un(t),function(e){return ln.call(t,e)}))}:an;var cn="object"==typeof e&&e&&!e.nodeType&&e,fn=cn&&"object"==typeof module&&module&&!module.nodeType&&module,pn=fn&&fn.exports===cn?q.Buffer:void 0,hn=(pn?pn.isBuffer:void 0)||function(){return!1},yn={};function dn(t){return function(e){return t(e)}}yn["[object Float32Array]"]=yn["[object Float64Array]"]=yn["[object Int8Array]"]=yn["[object Int16Array]"]=yn["[object Int32Array]"]=yn["[object Uint8Array]"]=yn["[object Uint8ClampedArray]"]=yn["[object Uint16Array]"]=yn["[object Uint32Array]"]=!0,yn["[object Arguments]"]=yn["[object Array]"]=yn["[object ArrayBuffer]"]=yn["[object Boolean]"]=yn["[object DataView]"]=yn["[object Date]"]=yn["[object Error]"]=yn["[object Function]"]=yn["[object Map]"]=yn["[object Number]"]=yn["[object Object]"]=yn["[object RegExp]"]=yn["[object Set]"]=yn["[object String]"]=yn["[object WeakMap]"]=!1;var vn="object"==typeof e&&e&&!e.nodeType&&e,mn=vn&&"object"==typeof module&&module&&!module.nodeType&&module,bn=mn&&mn.exports===vn&&W.process,gn=function(){try{var e=mn&&mn.require&&mn.require("util").types;return e||bn&&bn.binding&&bn.binding("util")}catch(e){}}(),En=gn&&gn.isTypedArray,_n=En?dn(En):function(e){return oe(e)&&mt(e.length)&&!!yn[re(e)]},jn=Object.prototype.hasOwnProperty;function On(e,t){var n=Z(e),r=!n&&dt(e),o=!n&&!r&&hn(e),a=!n&&!r&&!o&&_n(e),l=n||r||o||a,i=l?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=i.length;for(var s in e)!t&&!jn.call(e,s)||l&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ut(s,u))||i.push(s);return i}var wn=Object.prototype;function Ln(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||wn)}function kn(t,n){return function(e){return t(n(e))}}var Cn=kn(Object.keys,Object),Pn=Object.prototype.hasOwnProperty;function xn(e){return null!=e&&mt(e.length)&&!ye(e)}function An(e){return xn(e)?On(e):function(e){if(!Ln(e))return Cn(e);var t=[];for(var n in Object(e))Pn.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}function Sn(e){return on(e,An,sn)}var Mn=1,zn=Object.prototype.hasOwnProperty;var In=Ce(q,"DataView"),Un=Ce(q,"Promise"),Tn=Ce(q,"Set"),Dn=Ce(q,"WeakMap"),Vn="[object Map]",Bn="[object Promise]",Rn="[object Set]",$n="[object WeakMap]",Fn="[object DataView]",Nn=ge(In),Zn=ge(Te),Wn=ge(Un),Gn=ge(Tn),qn=ge(Dn),Jn=re;(In&&Jn(new In(new ArrayBuffer(1)))!=Fn||Te&&Jn(new Te)!=Vn||Un&&Jn(Un.resolve())!=Bn||Tn&&Jn(new Tn)!=Rn||Dn&&Jn(new Dn)!=$n)&&(Jn=function(e){var t=re(e),n="[object Object]"==t?e.constructor:void 0,r=n?ge(n):"";if(r)switch(r){case Nn:return Fn;case Zn:return Vn;case Wn:return Bn;case Gn:return Rn;case qn:return $n}return t});var Yn=Jn,Hn=1,Kn="[object Arguments]",Qn="[object Array]",Xn="[object Object]",er=Object.prototype.hasOwnProperty;function tr(e,t,n,r,o,a){var l=Z(e),i=Z(t),u=l?Qn:Yn(e),s=i?Qn:Yn(t),c=(u=u==Kn?Xn:u)==Xn,f=(s=s==Kn?Xn:s)==Xn,p=u==s;if(p&&hn(e)){if(!hn(t))return!1;c=!(l=!0)}if(p&&!c)return a||(a=new It),l||_n(e)?Bt(e,t,n,r,o,a):function(e,t,n,r,o,a,l){switch(n){case tn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case en:return!(e.byteLength!=t.byteLength||!a(new Rt(e),new Rt(t)));case Wt:case Gt:case Yt:return Me(+e,+t);case qt:return e.name==t.name&&e.message==t.message;case Ht:case Qt:return e==t+"";case Jt:var i=$t;case Kt:var u=r&Nt;if(i||(i=Ft),e.size!=t.size&&!u)return!1;var s=l.get(e);if(s)return s==t;r|=Zt,l.set(e,t);var c=Bt(i(e),i(t),r,o,a,l);return l.delete(e),c;case Xt:if(rn)return rn.call(e)==rn.call(t)}return!1}(e,t,u,n,r,o,a);if(!(n&Hn)){var h=c&&er.call(e,"__wrapped__"),y=f&&er.call(t,"__wrapped__");if(h||y){var d=h?e.value():e,v=y?t.value():t;return a||(a=new It),o(d,v,n,r,a)}}return!!p&&(a||(a=new It),function(e,t,n,r,o,a){var l=n&Mn,i=Sn(e),u=i.length;if(u!=Sn(t).length&&!l)return!1;for(var s=u;s--;){var c=i[s];if(!(l?c in t:zn.call(t,c)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var p=!0;a.set(e,t),a.set(t,e);for(var h=l;++s<u;){var y=e[c=i[s]],d=t[c];if(r)var v=l?r(d,y,c,t,e,a):r(y,d,c,e,t,a);if(!(void 0===v?y===d||o(y,d,n,r,a):v)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var m=e.constructor,b=t.constructor;m!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b)&&(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,o,a))}function nr(e,t,n,r,o){return e===t||(null==e||null==t||!oe(e)&&!oe(t)?e!=e&&t!=t:tr(e,t,n,r,nr,o))}function rr(e,t){return nr(e,t)}function or(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var ar,lr=function(e,t,n){for(var r=-1,o=Object(e),a=n(e),l=a.length;l--;){var i=a[ar?l:++r];if(!1===t(o[i],i,o))break}return e};var ir,ur,sr=(ir=function(e,t){return e&&lr(e,t,An)},function(e,t){if(null==e)return e;if(!xn(e))return ir(e,t);for(var n=e.length,r=ur?n:-1,o=Object(e);(ur?r--:++r<n)&&!1!==t(o[r],r,o););return e});function cr(e,t){var n;return(Z(e)?or:sr)(e,"function"==typeof(n=t)?n:Lt)}var fr=/^on(.+)$/i,pr=function(e){function n(e){var t;return C(this,n),t=M(this,z(n).call(this,e)),T(S(S(t)),"_leafletEvents",void 0),T(S(S(t)),"leafletElement",void 0),t._leafletEvents=t.extractLeafletEvents(e),t}return U(n,e),x(n,[{key:"componentDidMount",value:function(){this.bindLeafletEvents(this._leafletEvents)}},{key:"componentDidUpdate",value:function(e){this._leafletEvents=this.bindLeafletEvents(this.extractLeafletEvents(this.props),this._leafletEvents)}},{key:"componentWillUnmount",value:function(){var n=this.leafletElement;n&&cr(this._leafletEvents,function(e,t){n.off(t,e)})}},{key:"extractLeafletEvents",value:function(n){return Object.keys(n).reduce(function(e,t){fr.test(t)&&(null!=n[t]&&(e[t.replace(fr,function(e,t){return t.toLowerCase()})]=n[t]));return e},{})}},{key:"bindLeafletEvents",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=this.leafletElement;if(null==o||null==o.on)return{};var a=$({},r);return cr(r,function(e,t){null!=n[t]&&e===n[t]||(delete a[t],o.off(t,e))}),cr(n,function(e,t){null!=r[t]&&e===r[t]||(a[t]=e,o.on(t,e))}),a}},{key:"fireLeafletEvent",value:function(e,t){var n=this.leafletElement;n&&n.fire(e,t)}}]),n}(o.Component),hr=function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,pr),x(t,[{key:"getOptions",value:function(e){return null!=e.pane?e:null!=e.leaflet&&null!=e.leaflet.pane?$({},e,{pane:e.leaflet.pane}):e}}]),t}(),yr=function(e){function n(e){var t;return C(this,n),t=M(this,z(n).call(this,e)),T(S(S(t)),"contextValue",void 0),t.leafletElement=t.createLeafletElement(e),t}return U(n,hr),x(n,[{key:"createLeafletElement",value:function(e){throw new Error("createLeafletElement() must be implemented")}},{key:"updateLeafletElement",value:function(e,t){}},{key:"componentDidMount",value:function(){N(z(n.prototype),"componentDidMount",this).call(this),this.layerContainer.addLayer(this.leafletElement)}},{key:"componentDidUpdate",value:function(e){if(N(z(n.prototype),"componentDidUpdate",this).call(this,e),this.props.attribution!==e.attribution){var t=this.props.leaflet.map;null!=t&&null!=t.attributionControl&&(t.attributionControl.removeAttribution(e.attribution),t.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(e,this.props)}},{key:"componentWillUnmount",value:function(){N(z(n.prototype),"componentWillUnmount",this).call(this),this.layerContainer.removeLayer(this.leafletElement)}},{key:"render",value:function(){var e=this.props.children;return null==e?null:null==this.contextValue?l.createElement(o.Fragment,null,e):l.createElement(L,{value:this.contextValue},e)}},{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),n}(),dr=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],vr=function(e){function n(e){var t;return C(this,n),t=M(this,z(n).call(this,e)),T(S(S(t)),"leafletElement",void 0),t.leafletElement=t.createLeafletElement(e),null==t.contextValue&&(t.contextValue=$({},e.leaflet,{popupContainer:t.leafletElement})),t}return U(n,yr),x(n,[{key:"componentDidUpdate",value:function(e){N(z(n.prototype),"componentDidUpdate",this).call(this,e),this.setStyleIfChanged(e,this.props)}},{key:"getPathOptions",value:function(e){return zt(e,dr)}},{key:"setStyle",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.leafletElement.setStyle(e)}},{key:"setStyleIfChanged",value:function(e,t){var n=this.getPathOptions(t);rr(n,this.getPathOptions(e))||this.setStyle(n)}}]),n}(),mr=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,vr),x(t,[{key:"createLeafletElement",value:function(e){var t=e.center,n=e.radius,r=R(e,["center","radius"]);return new i.Circle(t,n,this.getOptions(r))}},{key:"updateLeafletElement",value:function(e,t){t.center!==e.center&&this.leafletElement.setLatLng(t.center),t.radius!==e.radius&&this.leafletElement.setRadius(t.radius)}}]),t}()),br=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,vr),x(t,[{key:"createLeafletElement",value:function(e){var t=new i.CircleMarker(e.center,this.getOptions(e));return this.contextValue=$({},e.leaflet,{popupContainer:t}),t}},{key:"updateLeafletElement",value:function(e,t){t.center!==e.center&&this.leafletElement.setLatLng(t.center),t.radius!==e.radius&&this.leafletElement.setRadius(t.radius)}}]),t}()),gr=r(function(e){var t;t=function(u){var t=Math.PI/180;function e(e){return(e-90)*t}u.Point.prototype.rotated=function(e,t){return n=e,r=t,this.add(u.point(Math.cos(n),Math.sin(n)).multiplyBy(r));var n,r};var n={options:{startAngle:0,stopAngle:359.9999},startAngle:function(){return this.options.startAngle<this.options.stopAngle?e(this.options.startAngle):e(this.options.stopAngle)},stopAngle:function(){return this.options.startAngle<this.options.stopAngle?e(this.options.stopAngle):e(this.options.startAngle)},setStartAngle:function(e){return this.options.startAngle=e,this.redraw()},setStopAngle:function(e){return this.options.stopAngle=e,this.redraw()},setDirection:function(e,t){return void 0===t&&(t=10),this.options.startAngle=e-t/2,this.options.stopAngle=e+t/2,this.redraw()},getDirection:function(){return this.stopAngle()-(this.stopAngle()-this.startAngle())/2},isSemicircle:function(){var e=this.options.startAngle,t=this.options.stopAngle;return!(0===e&&359<t||e==t)},_containsPoint:function(e){function t(e){for(;e<=-Math.PI;)e+=2*Math.PI;for(;e>Math.PI;)e-=2*Math.PI;return e}var n=Math.atan2(e.y-this._point.y,e.x-this._point.x),r=t(this.startAngle()),o=t(this.stopAngle());return o<=r&&(o+=2*Math.PI),n<=r&&(n+=2*Math.PI),r<n&&n<=o&&e.distanceTo(this._point)<=this._radius+this._clickTolerance()}};u.SemiCircle=u.Circle.extend(n),u.SemiCircleMarker=u.CircleMarker.extend(n),u.semiCircle=function(e,t){return new u.SemiCircle(e,t)},u.semiCircleMarker=function(e,t){return new u.SemiCircleMarker(e,t)};var s=u.SVG.prototype._updateCircle,l=u.Canvas.prototype._updateCircle;u.SVG.include({_updateCircle:function(e){if(!(e instanceof u.SemiCircle||e instanceof u.SemiCircleMarker)||!e.isSemicircle())return s.call(this,e);if(e._empty())return this._setPath(e,"M0 0");var t=e._map.latLngToLayerPoint(e._latlng),n=e._radius,r=Math.round(e._radiusY||n),o=t.rotated(e.startAngle(),n),a=t.rotated(e.stopAngle(),n),l=180<=e.options.stopAngle-e.options.startAngle?"1":"0",i="M"+t.x+","+t.y+"L"+o.x+","+o.y+"A "+n+","+r+",0,"+l+",1,"+a.x+","+a.y+" z";this._setPath(e,i)}}),u.Canvas.include({_updateCircle:function(e){if(!(e instanceof u.SemiCircle||e instanceof u.SemiCircleMarker)||!e.isSemicircle())return l.call(this,e);var t=e._point,n=this._ctx,r=e._radius,o=(e._radiusY||r)/r,a=t.rotated(e.startAngle(),r);this._drawnLayers[e._leaflet_id]=e,1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(a.x,a.y),n.arc(t.x,t.y,r,e.startAngle(),e.stopAngle()),n.lineTo(t.x,t.y),1!==o&&n.restore(),this._fillStroke(n,e)}})},e.exports=t(n)}),Er=Object.freeze({default:gr,__moduleExports:gr}),_r=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,vr),x(t,[{key:"createLeafletElement",value:function(e){var t=e.center,n=e.radius,r=e.startAngle,o=e.stopAngle,a=R(e,["center","radius","startAngle","stopAngle"]);return new Er(t,n,r,o,this.getOptions(a))}},{key:"updateLeafletElement",value:function(e,t){t.center!==e.center&&this.leafletElement.setLatLng(t.center),t.radius!==e.radius&&this.leafletElement.setRadius(t.radius)}}]),t}()),jr=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").split(" ").filter(Boolean)},Or=function(t,e){jr(e).forEach(function(e){i.DomUtil.addClass(t,e)})},wr=function(t,e){jr(e).forEach(function(e){i.DomUtil.removeClass(t,e)})},Lr=function(e,t,n){null!=e&&n!==t&&(null!=t&&0<t.length&&wr(e,t),null!=n&&0<n.length&&Or(e,n))},kr=function(e){function n(e){var t;return C(this,n),t=M(this,z(n).call(this,e)),T(S(S(t)),"onClose",function(){t.props.onClose&&t.props.onClose()}),T(S(S(t)),"onOpen",function(){t.forceUpdate(),t.props.onOpen&&t.props.onOpen()}),t.leafletElement=t.createLeafletElement(e),t}return U(n,hr),x(n,[{key:"createLeafletElement",value:function(e){throw new Error("createLeafletElement() must be implemented")}},{key:"updateLeafletElement",value:function(e,t){}},{key:"componentDidUpdate",value:function(e){Lr(this.leafletElement._container,e.className,this.props.className),this.updateLeafletElement(e,this.props),this.leafletElement.isOpen()&&(this.leafletElement.update(),this.onRender())}},{key:"onRender",value:function(){}},{key:"render",value:function(){return this.leafletElement._contentNode?t.createPortal(this.props.children,this.leafletElement._contentNode):null}}]),n}(),Cr=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,vr),x(t,[{key:"createLeafletElement",value:function(e){var t=new i.FeatureGroup(this.getOptions(e));return this.contextValue=$({},e.leaflet,{layerContainer:t,popupContainer:t}),t}},{key:"componentDidMount",value:function(){N(z(t.prototype),"componentDidMount",this).call(this),this.setStyle(this.props)}}]),t}()),Pr=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,vr),x(t,[{key:"createLeafletElement",value:function(e){return new i.GeoJSON(e.data,this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,t){"function"==typeof t.style?this.setStyle(t.style):this.setStyleIfChanged(e,t)}}]),t}()),xr=function(e){function n(){return C(this,n),M(this,z(n).apply(this,arguments))}return U(n,yr),x(n,[{key:"createLeafletElement",value:function(e){return new i.GridLayer(this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,t){var n=t.opacity,r=t.zIndex;n!==e.opacity&&this.leafletElement.setOpacity(n),r!==e.zIndex&&this.leafletElement.setZIndex(r)}},{key:"getOptions",value:function(e){var t=N(z(n.prototype),"getOptions",this).call(this,e);return null==e.leaflet.map?t:$({maxZoom:e.leaflet.map.options.maxZoom,minZoom:e.leaflet.map.options.minZoom},t)}},{key:"render",value:function(){return null}}]),n}(),Ar=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,yr),x(t,[{key:"createLeafletElement",value:function(e){var t=new i.ImageOverlay(e.url,e.bounds,this.getOptions(e));return this.contextValue=$({},e.leaflet,{popupContainer:t}),t}},{key:"updateLeafletElement",value:function(e,t){t.url!==e.url&&this.leafletElement.setUrl(t.url),t.bounds!==e.bounds&&this.leafletElement.setBounds(i.latLngBounds(t.bounds)),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.zIndex!==e.zIndex&&this.leafletElement.setZIndex(t.zIndex)}}]),t}()),Sr=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,yr),x(t,[{key:"createLeafletElement",value:function(e){var t=new i.LayerGroup(this.getOptions(e));return this.contextValue=$({},e.leaflet,{layerContainer:t}),t}}]),t}()),Mr=function(e){function a(){var e,t;C(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=M(this,(e=z(a)).call.apply(e,[this].concat(r))),T(S(S(t)),"contextValue",void 0),T(S(S(t)),"layer",void 0),t}return U(a,e),x(a,[{key:"componentDidUpdate",value:function(e){var t=e.checked;null!=this.props.leaflet.map&&(!0!==this.props.checked||null!=t&&!1!==t?!0!==t||null!=this.props.checked&&!1!==this.props.checked||this.props.leaflet.map.removeLayer(this.layer):this.props.leaflet.map.addLayer(this.layer))}},{key:"componentWillUnmount",value:function(){this.props.removeLayerControl(this.layer)}},{key:"addLayer",value:function(){throw new Error("Must be implemented in extending class")}},{key:"removeLayer",value:function(e){this.props.removeLayer(e)}},{key:"render",value:function(){var e=this.props.children;return e?l.createElement(L,{value:this.contextValue},e):null}}]),a}(o.Component),zr=function(e){function t(e){var o;return C(this,t),o=M(this,z(t).call(this,e)),T(S(S(o)),"addLayer",function(e){o.layer=e;var t=o.props,n=t.addBaseLayer,r=t.checked;n(e,t.name,r)}),o.contextValue=$({},e.leaflet,{layerContainer:{addLayer:o.addLayer.bind(S(S(o))),removeLayer:o.removeLayer.bind(S(S(o)))}}),o}return U(t,Mr),t}(),Ir=function(e){function t(e){var o;return C(this,t),o=M(this,z(t).call(this,e)),T(S(S(o)),"addLayer",function(e){o.layer=e;var t=o.props,n=t.addOverlay,r=t.checked;n(e,t.name,r)}),o.contextValue=$({},e.leaflet,{layerContainer:{addLayer:o.addLayer.bind(S(S(o))),removeLayer:o.removeLayer.bind(S(S(o)))}}),o}return U(t,Mr),t}(),Ur=k(function(e){function n(e){var t;return C(this,n),t=M(this,z(n).call(this,e)),T(S(S(t)),"controlProps",void 0),t.controlProps={addBaseLayer:t.addBaseLayer.bind(S(S(t))),addOverlay:t.addOverlay.bind(S(S(t))),leaflet:e.leaflet,removeLayer:t.removeLayer.bind(S(S(t))),removeLayerControl:t.removeLayerControl.bind(S(S(t)))},t}return U(n,D),x(n,[{key:"createLeafletElement",value:function(e){e.children;var t=R(e,["children"]);return new i.Control.Layers(void 0,void 0,t)}},{key:"updateLeafletElement",value:function(e,t){N(z(n.prototype),"updateLeafletElement",this).call(this,e,t),t.collapsed!==e.collapsed&&(!0===t.collapsed?this.leafletElement.collapse():this.leafletElement.expand())}},{key:"componentWillUnmount",value:function(){var e=this;setTimeout(function(){N(z(n.prototype),"componentWillUnmount",e).call(e)},0)}},{key:"addBaseLayer",value:function(e,t){2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(e),this.leafletElement.addBaseLayer(e,t)}},{key:"addOverlay",value:function(e,t){2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(e),this.leafletElement.addOverlay(e,t)}},{key:"removeLayer",value:function(e){null!=this.props.leaflet.map&&this.props.leaflet.map.removeLayer(e)}},{key:"removeLayerControl",value:function(e){this.leafletElement.removeLayer(e)}},{key:"render",value:function(){var t=this,e=o.Children.map(this.props.children,function(e){return e?o.cloneElement(e,t.controlProps):null});return l.createElement(o.Fragment,null,e)}}]),n}());function Tr(e,t,n,r){var o=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var i=t[a],u=r?r(n[i],e[i],i,n,e):void 0;void 0===u&&(u=e[i]),o?rt(n,i,u):at(n,i,u)}return n}Ur.BaseLayer=zr,Ur.Overlay=Ir;var Dr=Object.prototype.hasOwnProperty;function Vr(e){if(!se(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Ln(e),n=[];for(var r in e)("constructor"!=r||!t&&Dr.call(e,r))&&n.push(r);return n}function Br(e){return xn(e)?On(e,!0):Vr(e)}var Rr="object"==typeof e&&e&&!e.nodeType&&e,$r=Rr&&"object"==typeof module&&module&&!module.nodeType&&module,Fr=$r&&$r.exports===Rr?q.Buffer:void 0,Nr=Fr?Fr.allocUnsafe:void 0;var Zr=kn(Object.getPrototypeOf,Object),Wr=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Et(t,sn(e)),e=Zr(e);return t}:an;function Gr(e){return on(e,Br,Wr)}var qr=Object.prototype.hasOwnProperty;function Jr(e){var t=new e.constructor(e.byteLength);return new Rt(t).set(new Rt(e)),t}var Yr=/\w*$/;var Hr=J?J.prototype:void 0,Kr=Hr?Hr.valueOf:void 0;var Qr="[object Boolean]",Xr="[object Date]",eo="[object Map]",to="[object Number]",no="[object RegExp]",ro="[object Set]",oo="[object String]",ao="[object Symbol]",lo="[object ArrayBuffer]",io="[object DataView]",uo="[object Float32Array]",so="[object Float64Array]",co="[object Int8Array]",fo="[object Int16Array]",po="[object Int32Array]",ho="[object Uint8Array]",yo="[object Uint8ClampedArray]",vo="[object Uint16Array]",mo="[object Uint32Array]";function bo(e,t,n){var r,o,a,l,i,u,s,c=e.constructor;switch(t){case lo:return Jr(e);case Qr:case Xr:return new c(+e);case io:return u=e,s=n?Jr(u.buffer):u.buffer,new u.constructor(s,u.byteOffset,u.byteLength);case uo:case so:case co:case fo:case po:case ho:case yo:case vo:case mo:return l=e,i=n?Jr(l.buffer):l.buffer,new l.constructor(i,l.byteOffset,l.length);case eo:return new c;case to:case oo:return new c(e);case no:return(a=new(o=e).constructor(o.source,Yr.exec(o))).lastIndex=o.lastIndex,a;case ro:return new c;case ao:return r=e,Kr?Object(Kr.call(r)):{}}}var go=Object.create,Eo=function(){function n(){}return function(e){if(!se(e))return{};if(go)return go(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();var _o=gn&&gn.isMap,jo=_o?dn(_o):function(e){return oe(e)&&"[object Map]"==Yn(e)};var Oo=gn&&gn.isSet,wo=Oo?dn(Oo):function(e){return oe(e)&&"[object Set]"==Yn(e)},Lo=1,ko=2,Co=4,Po="[object Arguments]",xo="[object Function]",Ao="[object GeneratorFunction]",So="[object Object]",Mo={};function zo(n,r,o,e,t,a){var l,i=r&Lo,u=r&ko,s=r&Co;if(o&&(l=t?o(n,e,t,a):o(n)),void 0!==l)return l;if(!se(n))return n;var c,f,p,h,y,d,v,m,b,g,E,_,j=Z(n);if(j){if(E=(g=n).length,_=new g.constructor(E),E&&"string"==typeof g[0]&&qr.call(g,"index")&&(_.index=g.index,_.input=g.input),l=_,!i)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(n,l)}else{var O=Yn(n),w=O==xo||O==Ao;if(hn(n))return function(e,t){if(t)return e.slice();var n=e.length,r=Nr?Nr(n):new e.constructor(n);return e.copy(r),r}(n,i);if(O==So||O==Po||w&&!t){if(l=u||w?{}:"function"!=typeof(b=n).constructor||Ln(b)?{}:Eo(Zr(b)),!i)return u?(m=y=n,d=(v=l)&&Tr(m,Br(m),v),Tr(y,Wr(y),d)):(h=c=n,f=(p=l)&&Tr(h,An(h),p),Tr(c,sn(c),f))}else{if(!Mo[O])return t?n:{};l=bo(n,O,i)}}a||(a=new It);var L=a.get(n);if(L)return L;if(a.set(n,l),wo(n))return n.forEach(function(e){l.add(zo(e,r,o,e,n,a))}),l;if(jo(n))return n.forEach(function(e,t){l.set(t,zo(e,r,o,t,n,a))}),l;var k=s?u?Gr:Sn:u?keysIn:An,C=j?void 0:k(n);return or(C||n,function(e,t){C&&(e=n[t=e]),at(l,t,zo(e,r,o,t,n,a))}),l}function Io(e,t){return t.length<2?e:tt(e,function(e,t,n){var r=-1,o=e.length;t<0&&(t=o<-t?0:o+t),(n=o<n?o:n)<0&&(n+=o),o=n<t?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a}(t,0,-1))}Mo[Po]=Mo["[object Array]"]=Mo["[object ArrayBuffer]"]=Mo["[object DataView]"]=Mo["[object Boolean]"]=Mo["[object Date]"]=Mo["[object Float32Array]"]=Mo["[object Float64Array]"]=Mo["[object Int8Array]"]=Mo["[object Int16Array]"]=Mo["[object Int32Array]"]=Mo["[object Map]"]=Mo["[object Number]"]=Mo[So]=Mo["[object RegExp]"]=Mo["[object Set]"]=Mo["[object String]"]=Mo["[object Symbol]"]=Mo["[object Uint8Array]"]=Mo["[object Uint8ClampedArray]"]=Mo["[object Uint16Array]"]=Mo["[object Uint32Array]"]=!0,Mo["[object Error]"]=Mo[xo]=Mo["[object WeakMap]"]=!1;var Uo="[object Object]",To=Function.prototype,Do=Object.prototype,Vo=To.toString,Bo=Do.hasOwnProperty,Ro=Vo.call(Object);function $o(e){return function(e){if(!oe(e)||re(e)!=Uo)return!1;var t=Zr(e);if(null===t)return!0;var n=Bo.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Vo.call(n)==Ro}(e)?void 0:e}var Fo=Mt(function(t,e){var n={};if(null==t)return n;var r=!1;e=Ge(e,function(e){return e=Qe(e,t),r||(r=1<e.length),e}),Tr(t,Gr(t),n),r&&(n=zo(n,7,$o));for(var o,a,l,i,u=e.length;u--;)o=n,a=e[u],i=l=void 0,null==(o=Io(o,a=Qe(a,o)))||delete o[et((l=a,i=null==l?0:l.length,i?l[i-1]:void 0))];return n}),No=["children","className","id","style","useFlyTo","whenReady"],Zo=function(e){return Array.isArray(e)?[e[0],e[1]]:[e.lat,e.lon?e.lon:e.lng]},Wo=function(e){function n(e){var t;return C(this,n),t=M(this,z(n).call(this,e)),T(S(S(t)),"className",void 0),T(S(S(t)),"contextValue",void 0),T(S(S(t)),"container",void 0),T(S(S(t)),"viewport",{center:void 0,zoom:void 0}),T(S(S(t)),"_updating",!1),T(S(S(t)),"onViewportChange",function(){var e=t.leafletElement.getCenter();t.viewport={center:e?[e.lat,e.lng]:void 0,zoom:t.leafletElement.getZoom()},t.props.onViewportChange&&!t._updating&&t.props.onViewportChange(t.viewport)}),T(S(S(t)),"onViewportChanged",function(){t.props.onViewportChanged&&!t._updating&&t.props.onViewportChanged(t.viewport)}),T(S(S(t)),"bindContainer",function(e){t.container=e}),t.className=e.className,t}return U(n,pr),x(n,[{key:"createLeafletElement",value:function(e){var t=e.viewport,n=R(e,["viewport"]);return t&&(t.center&&(n.center=t.center),"number"==typeof t.zoom&&(n.zoom=t.zoom)),new i.Map(this.container,n)}},{key:"updateLeafletElement",value:function(e,t){this._updating=!0;var n=t.animate,r=t.bounds,o=t.boundsOptions,a=t.boxZoom,l=t.center,i=t.className,u=t.doubleClickZoom,s=t.dragging,c=t.keyboard,f=t.maxBounds,p=t.scrollWheelZoom,h=t.tap,y=t.touchZoom,d=t.useFlyTo,v=t.viewport,m=t.zoom;if(Lr(this.container,e.className,i),v&&v!==e.viewport){var b=v.center?v.center:l,g=null==v.zoom?m:v.zoom;!0===d?this.leafletElement.flyTo(b,g,{animate:n}):this.leafletElement.setView(b,g,{animate:n})}else l&&this.shouldUpdateCenter(l,e.center)?!0===d?this.leafletElement.flyTo(l,m,{animate:n}):this.leafletElement.setView(l,m,{animate:n}):"number"==typeof m&&m!==e.zoom&&(null==e.zoom?this.leafletElement.setView(l,m):this.leafletElement.setZoom(m));f&&this.shouldUpdateBounds(f,e.maxBounds)&&this.leafletElement.setMaxBounds(f),r&&(this.shouldUpdateBounds(r,e.bounds)||o!==e.boundsOptions)&&(!0===d?this.leafletElement.flyToBounds(r,o):this.leafletElement.fitBounds(r,o)),a!==e.boxZoom&&(!0===a?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),u!==e.doubleClickZoom&&(!0===u?this.leafletElement.doubleClickZoom.enable():this.leafletElement.doubleClickZoom.disable()),s!==e.dragging&&(!0===s?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),c!==e.keyboard&&(!0===c?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),p!==e.scrollWheelZoom&&(!0===p||"string"==typeof p?(this.leafletElement.options.scrollWheelZoom=p,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),h!==e.tap&&(!0===h?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),y!==e.touchZoom&&(!0===y||"string"==typeof y?(this.leafletElement.options.touchZoom=y,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1}},{key:"componentDidMount",value:function(){var e=Fo(this.props,No);this.leafletElement=this.createLeafletElement(e),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),null!=e.bounds&&this.leafletElement.fitBounds(e.bounds,e.boundsOptions),this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady),this.contextValue={layerContainer:this.leafletElement,map:this.leafletElement},N(z(n.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"componentDidUpdate",value:function(e){this.updateLeafletElement(e,this.props)}},{key:"componentWillUnmount",value:function(){N(z(n.prototype),"componentWillUnmount",this).call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()}},{key:"shouldUpdateCenter",value:function(e,t){return!t||(e=Zo(e),t=Zo(t),e[0]!==t[0]||e[1]!==t[1])}},{key:"shouldUpdateBounds",value:function(e,t){return!t||!i.latLngBounds(e).equals(i.latLngBounds(t))}},{key:"render",value:function(){return l.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},this.contextValue?l.createElement(L,{value:this.contextValue},this.props.children):null)}}]),n}(),Go=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,yr),x(t,[{key:"createLeafletElement",value:function(e){var t=new i.Marker(e.position,this.getOptions(e));return this.contextValue=$({},e.leaflet,{popupContainer:t}),t}},{key:"updateLeafletElement",value:function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position),t.icon!==e.icon&&this.leafletElement.setIcon(t.icon),t.zIndexOffset!==e.zIndexOffset&&this.leafletElement.setZIndexOffset(t.zIndexOffset),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.draggable!==e.draggable&&(!0===t.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())}},{key:"render",value:function(){var e=this.props.children;return null==e||null==this.contextValue?null:l.createElement(L,{value:this.contextValue},e)}}]),t}()),qo=0;var Jo=["tile","shadow","overlay","map","marker","tooltip","popup"],Yo=/-*pane/gi,Ho={position:"absolute",top:0,right:0,bottom:0,left:0},Ko=k(function(e){function a(){var e,o;C(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o=M(this,(e=z(a)).call.apply(e,[this].concat(n))),T(S(S(o)),"state",{name:void 0,context:void 0}),T(S(S(o)),"setStyle",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o.props,t=e.style,n=e.className,r=o.getPane(o.state.name);r&&(n&&Or(r,n),t&&cr(t,function(e,t){r.style[t]=e}))}),o}return U(a,e),x(a,[{key:"componentDidMount",value:function(){this.createPane(this.props)}},{key:"componentDidUpdate",value:function(e){if(this.state.name)if(this.props.name!==e.name)this.removePane(),this.createPane(this.props);else{if(e.className&&this.props.className!==e.className){var t=this.getPane(this.state.name);null!=t&&null!=e.className&&wr(t,e.className)}this.setStyle(this.props)}}},{key:"componentWillUnmount",value:function(){this.removePane()}},{key:"createPane",value:function(e){var t,n,r,o=e.leaflet.map,a=e.name||"pane-".concat((n=++qo,Ke(t)+n));null!=o&&null!=o.createPane&&(null==((r=a,-1!==Jo.indexOf(r.replace(Yo,"")))||this.getPane(a))&&o.createPane(a,this.getParentPane()),this.setState({name:a,context:$({},e.leaflet,{pane:a})},this.setStyle))}},{key:"removePane",value:function(){var e=this.state.name;if(null!=e){var t=this.getPane(e);null!=t&&t.remove&&t.remove();var n=this.props.leaflet.map;null!=n&&null!=n._panes&&(n._panes=Fo(n._panes,e),n._paneRenderers=Fo(n._paneRenderers,e))}}},{key:"getParentPane",value:function(){return this.getPane(this.props.pane||this.props.leaflet.pane)}},{key:"getPane",value:function(e){if(null!=e&&null!=this.props.leaflet.map)return this.props.leaflet.map.getPane(e)}},{key:"render",value:function(){var e=this.state.context;return e?l.createElement(L,{value:e},l.createElement("div",{style:Ho},this.props.children)):null}}]),a}(o.Component)),Qo=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,vr),x(t,[{key:"createLeafletElement",value:function(e){return new i.Polygon(e.positions,this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,t){t.positions!==e.positions&&this.leafletElement.setLatLngs(t.positions),this.setStyleIfChanged(e,t)}}]),t}()),Xo=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,vr),x(t,[{key:"createLeafletElement",value:function(e){return new i.Polyline(e.positions,this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,t){t.positions!==e.positions&&this.leafletElement.setLatLngs(t.positions),this.setStyleIfChanged(e,t)}}]),t}()),ea=function(e){function a(){var e,t;C(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=M(this,(e=z(a)).call.apply(e,[this].concat(r))),T(S(S(t)),"onPopupOpen",function(e){e.popup===t.leafletElement&&t.onOpen()}),T(S(S(t)),"onPopupClose",function(e){e.popup===t.leafletElement&&t.onClose()}),T(S(S(t)),"onRender",function(){!1!==t.props.autoPan&&t.leafletElement.isOpen()&&(t.leafletElement._map&&t.leafletElement._map._panAnim&&(t.leafletElement._map._panAnim=void 0),t.leafletElement._adjustPan())}),t}return U(a,kr),x(a,[{key:"getOptions",value:function(e){return $({},N(z(a.prototype),"getOptions",this).call(this,e),{autoPan:!1})}},{key:"createLeafletElement",value:function(e){var t=this.getOptions(e);return t.autoPan=!1!==e.autoPan,new i.Popup(t,e.leaflet.popupContainer)}},{key:"updateLeafletElement",value:function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position)}},{key:"componentDidMount",value:function(){var e=this.props.position,t=this.props.leaflet,n=t.map,r=t.popupContainer,o=this.leafletElement;null!=n&&n.on({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),r?r.bindPopup(o):(e&&o.setLatLng(e),o.openOn(n))}},{key:"componentWillUnmount",value:function(){var e=this.props.leaflet.map;null!=e&&(e.off({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),e.removeLayer(this.leafletElement)),N(z(a.prototype),"componentWillUnmount",this).call(this)}}]),a}();T(ea,"defaultProps",{pane:"popupPane"});var ta=k(ea),na=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,vr),x(t,[{key:"createLeafletElement",value:function(e){return new i.Rectangle(e.bounds,this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,t){t.bounds!==e.bounds&&this.leafletElement.setBounds(t.bounds),this.setStyleIfChanged(e,t)}}]),t}()),ra=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,D),x(t,[{key:"createLeafletElement",value:function(e){return new i.Control.Scale(e)}}]),t}()),oa=k(function(e){function n(){return C(this,n),M(this,z(n).apply(this,arguments))}return U(n,xr),x(n,[{key:"createLeafletElement",value:function(e){return new i.TileLayer(e.url,this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,t){N(z(n.prototype),"updateLeafletElement",this).call(this,e,t),t.url!==e.url&&this.leafletElement.setUrl(t.url)}}]),n}()),aa=function(e){function a(){var e,t;C(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=M(this,(e=z(a)).call.apply(e,[this].concat(r))),T(S(S(t)),"onTooltipOpen",function(e){e.tooltip===t.leafletElement&&t.onOpen()}),T(S(S(t)),"onTooltipClose",function(e){e.tooltip===t.leafletElement&&t.onClose()}),t}return U(a,kr),x(a,[{key:"createLeafletElement",value:function(e){return new i.Tooltip(this.getOptions(e),e.leaflet.popupContainer)}},{key:"componentDidMount",value:function(){var e=this.props.leaflet.popupContainer;null!=e&&(e.on({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),e.bindTooltip(this.leafletElement))}},{key:"componentWillUnmount",value:function(){var e=this.props.leaflet.popupContainer;null!=e&&(e.off({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),null!=e._map&&e.unbindTooltip(this.leafletElement))}}]),a}();T(aa,"defaultProps",{pane:"tooltipPane"});var la=k(aa),ia=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,yr),x(t,[{key:"createLeafletElement",value:function(e){return new i.VideoOverlay(e.url,e.bounds,this.getOptions(e))}},{key:"componentDidMount",value:function(){N(z(t.prototype),"componentDidMount",this).call(this),!0===this.props.play&&this.leafletElement.getElement().play()}},{key:"updateLeafletElement",value:function(e,t){t.url!==e.url&&this.leafletElement.setUrl(t.url),t.bounds!==e.bounds&&this.leafletElement.setBounds(i.latLngBounds(t.bounds)),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.zIndex!==e.zIndex&&this.leafletElement.setZIndex(t.zIndex),!0!==t.play||e.play?t.play||!0!==e.play||this.leafletElement.getElement().pause():this.leafletElement.getElement().play()}}]),t}()),ua=k(function(e){function l(){return C(this,l),M(this,z(l).apply(this,arguments))}return U(l,xr),x(l,[{key:"createLeafletElement",value:function(e){var t=e.url,n=R(e,["url"]);return new i.TileLayer.WMS(t,this.getOptions(n))}},{key:"updateLeafletElement",value:function(e,t){N(z(l.prototype),"updateLeafletElement",this).call(this,e,t);var n=e.url,r=(e.opacity,e.zIndex,R(e,["url","opacity","zIndex"])),o=t.url,a=(t.opacity,t.zIndex,R(t,["url","opacity","zIndex"]));o!==n&&this.leafletElement.setUrl(o),rr(a,r)||this.leafletElement.setParams(a)}},{key:"getOptions",value:function(e){var n=N(z(l.prototype),"getOptions",this).call(this,e);return Object.keys(n).reduce(function(e,t){return fr.test(t)||(e[t]=n[t]),e},{})}}]),l}()),sa=k(function(e){function t(){return C(this,t),M(this,z(t).apply(this,arguments))}return U(t,D),x(t,[{key:"createLeafletElement",value:function(e){return new i.Control.Zoom(e)}}]),t}());e.LeafletConsumer=w,e.LeafletProvider=L,e.withLeaflet=k,e.AttributionControl=V,e.Circle=mr,e.CircleMarker=br,e.Semicircle=_r,e.DivOverlay=kr,e.FeatureGroup=Cr,e.GeoJSON=Pr,e.GridLayer=xr,e.ImageOverlay=Ar,e.LayerGroup=Sr,e.LayersControl=Ur,e.ControlledLayer=Mr,e.Map=Wo,e.MapComponent=hr,e.MapControl=D,e.MapEvented=pr,e.MapLayer=yr,e.Marker=Go,e.Pane=Ko,e.Path=vr,e.Polygon=Qo,e.Polyline=Xo,e.Popup=ta,e.Rectangle=na,e.ScaleControl=ra,e.TileLayer=oa,e.Tooltip=la,e.VideoOverlay=ia,e.WMSTileLayer=ua,e.ZoomControl=sa,Object.defineProperty(e,"__esModule",{value:!0})});
